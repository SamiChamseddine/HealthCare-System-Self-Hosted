<Page x:Class="Florence.Desktop.Views.NurseForm"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
      xmlns:utils="clr-namespace:Florence.Desktop.Utils"
      xmlns:controls="clr-namespace:Florence.Desktop.Controls"
      Title="Create Nurse"
      Focusable="True"
      FocusManager.IsFocusScope="True"
      Background="{DynamicResource MahApps.Brushes.ThemeBackground}">

    <Page.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        <utils:DateOnlyConverter x:Key="DateOnlyConverter"/>
    </Page.Resources>

    <Grid Margin="30" Background="Transparent" MouseDown="Grid_MouseDown">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto" PanningMode="Both" Focusable="False">
            <StackPanel Margin="0,0,0,20">

                <Grid Margin="0,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <controls:BackToDashboardButton 
        Grid.Column="0"
        Margin="0,0,20,0"
        VerticalAlignment="Center"/>

                    <TextBlock Text="{Binding HeaderText}"
               Grid.Column="1"
               FontSize="22"
               FontWeight="Bold"
               Foreground="{DynamicResource MahApps.Brushes.Text}"
               VerticalAlignment="Center"/>
                </Grid>


                <Border Background="{DynamicResource MahApps.Brushes.Control.Background2}"
                        BorderBrush="{DynamicResource MahApps.Brushes.Control.Border}"
                        BorderThickness="1" Padding="15" Margin="0,0,0,15">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <StackPanel Grid.Row="0" Grid.Column="0" Margin="4">
                            <TextBlock Text="Full Name *" Style="{StaticResource FormLabel}"/>
                            <TextBox Text="{Binding Nurse.FullName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource FormTextBox}"/>
                        </StackPanel>

                        <StackPanel Grid.Row="0" Grid.Column="1" Margin="4">
                            <TextBlock Text="Birth Year *" Style="{StaticResource FormLabel}"/>
                            <TextBox Text="{Binding Nurse.BirthYear, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource FormTextBox}"/>
                        </StackPanel>

                        <StackPanel Grid.Row="0" Grid.Column="2" Margin="4">
                            <TextBlock Text="Phone Number *" Style="{StaticResource FormLabel}"/>
                            <TextBox Text="{Binding Nurse.PhoneNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource FormTextBox}"/>
                        </StackPanel>

                        <StackPanel Grid.Row="1" Grid.Column="0" Margin="4">
                            <TextBlock Text="Address" Style="{StaticResource FormLabel}"/>
                            <TextBox Text="{Binding Nurse.Address}" Style="{StaticResource FormTextBox}" AcceptsReturn="True" Height="60" TextWrapping="Wrap"/>
                        </StackPanel>

                        <StackPanel Grid.Row="1" Grid.Column="1" Margin="4">
                            <TextBlock Text="University" Style="{StaticResource FormLabel}"/>
                            <TextBox Text="{Binding Nurse.University}" Style="{StaticResource FormTextBox}"/>
                        </StackPanel>

                        <StackPanel Grid.Row="1" Grid.Column="2" Margin="4">
                            <TextBlock Text="Marital Status" Style="{StaticResource FormLabel}"/>
                            <TextBox Text="{Binding Nurse.MaritalStatus}" Style="{StaticResource FormTextBox}"/>
                        </StackPanel>

                        <StackPanel Grid.Row="2" Grid.Column="0" Margin="4">
                            <TextBlock Text="Position" Style="{StaticResource FormLabel}"/>
                            <ComboBox ItemsSource="{Binding Positions}"
          SelectedItem="{Binding Nurse.Position, Mode=TwoWay}"
          PreviewMouseWheel="ComboBox_PreviewMouseWheel"
          Style="{StaticResource FormComboBox}" />
                        </StackPanel>

                        <StackPanel Grid.Row="2" Grid.Column="1" Margin="4">
                            <TextBlock Text="Languages" Style="{StaticResource FormLabel}"/>
                            <TextBox Text="{Binding Nurse.Languages}" Style="{StaticResource FormTextBox}"/>
                        </StackPanel>

                        <StackPanel Grid.Row="2" Grid.Column="2" Margin="4">
                            <TextBlock Text="Hospital Experience" Style="{StaticResource FormLabel}"/>
                            <TextBox Text="{Binding Nurse.HospitalExperience}" Style="{StaticResource FormTextBox}"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <Border Background="{DynamicResource MahApps.Brushes.Control.Background2}"
                        BorderBrush="{DynamicResource MahApps.Brushes.Control.Border}"
                        BorderThickness="1" Padding="15" Margin="0,0,0,15">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" Margin="4">
                            <TextBlock Text="Course / Plus" Style="{StaticResource FormLabel}"/>
                            <TextBox Text="{Binding Nurse.CoursePlus}" Style="{StaticResource FormTextBox}"/>
                            <TextBlock Text="Last Workplace" Style="{StaticResource FormLabel}" Margin="0,8,0,0"/>
                            <TextBox Text="{Binding Nurse.LastWorkplace}" Style="{StaticResource FormTextBox}"/>
                        </StackPanel>

                        <StackPanel Grid.Column="1" Margin="4">
                            <TextBlock Text="Last Salary" Style="{StaticResource FormLabel}"/>
                            <TextBox Text="{Binding Nurse.LastSalary}" Style="{StaticResource FormTextBox}"/>
                            <TextBlock Text="Vacancy Source" Style="{StaticResource FormLabel}" Margin="0,8,0,0"/>
                            <ComboBox ItemsSource="{Binding VacancySources}"
          SelectedItem="{Binding Nurse.VacancySource, Mode=TwoWay}"
          PreviewMouseWheel="ComboBox_PreviewMouseWheel"
          Style="{StaticResource FormComboBox}" />
                        </StackPanel>

                        <StackPanel Grid.Column="2" Margin="4">
                            <TextBlock Text="If Other (Vacancy)" Style="{StaticResource FormLabel}"/>
                            <TextBox Text="{Binding Nurse.VacancyOther}" Style="{StaticResource FormTextBox}"/>
                            <TextBlock Text="Preferences" Style="{StaticResource FormLabel}" Margin="0,8,0,0"/>
                            <TextBox Text="{Binding Nurse.Preferences}" Style="{StaticResource FormTextBox}" AcceptsReturn="True" Height="60" TextWrapping="Wrap"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <Border Background="{DynamicResource MahApps.Brushes.Control.Background2}"
                        BorderBrush="{DynamicResource MahApps.Brushes.Control.Border}"
                        BorderThickness="1" Padding="15" Margin="0,0,0,15">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" Margin="4">
                            <TextBlock Text="Impression" Style="{StaticResource FormLabel}"/>
                            <TextBox Text="{Binding Nurse.Impression}" Style="{StaticResource FormTextBox}" AcceptsReturn="True" Height="60" TextWrapping="Wrap"/>
                        </StackPanel>

                        <StackPanel Grid.Column="1" Margin="4">
                            <TextBlock Text="Look" Style="{StaticResource FormLabel}"/>
                            <TextBox Text="{Binding Nurse.Look}" Style="{StaticResource FormTextBox}" AcceptsReturn="True" Height="60" TextWrapping="Wrap"/>
                        </StackPanel>

                        <StackPanel Grid.Column="2" Margin="4">
                            <TextBlock Text="Character" Style="{StaticResource FormLabel}"/>
                            <TextBox Text="{Binding Nurse.Character}" Style="{StaticResource FormTextBox}" AcceptsReturn="True" Height="60" TextWrapping="Wrap"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <Border Background="{DynamicResource MahApps.Brushes.Control.Background2}"
                        BorderBrush="{DynamicResource MahApps.Brushes.Control.Border}"
                        BorderThickness="1" Padding="15" Margin="0,0,0,15">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" Margin="4">
                            <TextBlock Text="Experience" Style="{StaticResource FormLabel}" FontWeight="SemiBold" Margin="0,0,0,6" />
                            <CheckBox Content="Elderly" IsChecked="{Binding Nurse.ExperienceElderly, Mode=TwoWay}"/>
                            <CheckBox Content="Newborns" IsChecked="{Binding Nurse.ExperienceNewborns, Mode=TwoWay}" />
                            <CheckBox Content="SNC" IsChecked="{Binding Nurse.ExperienceSnc, Mode=TwoWay}" />
                        </StackPanel>
                    </Grid>
                </Border>

                <Border Background="{DynamicResource MahApps.Brushes.Control.Background2}"
        BorderBrush="{DynamicResource MahApps.Brushes.Control.Border}"
        BorderThickness="1" Padding="15" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="Skills" Style="{StaticResource FormLabel}" FontWeight="SemiBold" Margin="0,0,0,10"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Margin="4">
                                <CheckBox Content="Chemo" IsChecked="{Binding Nurse.SkillChemo, Mode=TwoWay}"/>
                                <CheckBox Content="Tracheotomy" IsChecked="{Binding Nurse.SkillTracheotomy, Mode=TwoWay}"/>
                                <CheckBox Content="Basic Care" IsChecked="{Binding Nurse.SkillBasicCare, Mode=TwoWay}"/>
                                <CheckBox Content="Physiotherapy" IsChecked="{Binding Nurse.SkillPhysiotherapy, Mode=TwoWay}"/>
                                <CheckBox Content="Colostomy Bag" IsChecked="{Binding Nurse.SkillColostomyBag, Mode=TwoWay}"/>
                                <CheckBox Content="IM" IsChecked="{Binding Nurse.SkillIm, Mode=TwoWay}"/>
                                <CheckBox Content="IV" IsChecked="{Binding Nurse.SkillIv, Mode=TwoWay}"/>
                            </StackPanel>

                            <StackPanel Grid.Column="1" Margin="4">
                                <CheckBox Content="Folly" IsChecked="{Binding Nurse.SkillFolly, Mode=TwoWay}"/>
                                <CheckBox Content="Suction" IsChecked="{Binding Nurse.SkillSuction, Mode=TwoWay}"/>
                                <CheckBox Content="Feeding SNG" IsChecked="{Binding Nurse.SkillFeedingSng, Mode=TwoWay}"/>
                                <CheckBox Content="Intra Dermique" IsChecked="{Binding Nurse.SkillIntraDermique, Mode=TwoWay}"/>
                                <CheckBox Content="Drugs" IsChecked="{Binding Nurse.SkillDrugs, Mode=TwoWay}"/>
                                <CheckBox Content="Pulse Oxim." IsChecked="{Binding Nurse.SkillPulseOxim, Mode=TwoWay}"/>
                                <CheckBox Content="Bed Rest" IsChecked="{Binding Nurse.SkillBedRest, Mode=TwoWay}"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2" Margin="4">
                                <CheckBox Content="Intubation" IsChecked="{Binding Nurse.SkillIntubation, Mode=TwoWay}"/>
                                <CheckBox Content="Gastro Tube" IsChecked="{Binding Nurse.SkillGastroTube, Mode=TwoWay}"/>
                                <CheckBox Content="Bed Toilet" IsChecked="{Binding Nurse.SkillBedToilet, Mode=TwoWay}"/>
                                <CheckBox Content="Vaccination" IsChecked="{Binding Nurse.SkillVaccination, Mode=TwoWay}"/>
                                <CheckBox Content="Dressing" IsChecked="{Binding Nurse.SkillDressing, Mode=TwoWay}"/>
                                <CheckBox Content="Bed Sore" IsChecked="{Binding Nurse.SkillBadSore, Mode=TwoWay}"/>
                                <CheckBox Content="HemoGluco Test" IsChecked="{Binding Nurse.SkillHemoGlucoTest, Mode=TwoWay}"/>
                            </StackPanel>

                            <StackPanel Grid.Column="3" Margin="4">
                                <CheckBox Content="Smoke" IsChecked="{Binding Nurse.SkillSmoke, Mode=TwoWay}"/>
                                <CheckBox Content="Pulse / Pressure" IsChecked="{Binding Nurse.SkillPulsePressure, Mode=TwoWay}"/>
                                <CheckBox Content="Transportation" IsChecked="{Binding Nurse.SkillTransportation, Mode=TwoWay}"/>
                                <CheckBox Content="First Aide Course" IsChecked="{Binding Nurse.SkillFirstAideCourse, Mode=TwoWay}"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <Border Background="{DynamicResource MahApps.Brushes.Control.Background2}"
                        BorderBrush="{DynamicResource MahApps.Brushes.Control.Border}"
                        BorderThickness="1" Padding="15" Margin="0,0,0,15">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" Margin="4">
                            <TextBlock Text="Availability" Style="{StaticResource FormLabel}" FontWeight="SemiBold" Margin="0,0,0,6"/>
                            <CheckBox Content="Daily Shift" IsChecked="{Binding Nurse.AvailabilityDailyShift, Mode=TwoWay}"/>
                            <CheckBox Content="Night Shift" IsChecked="{Binding Nurse.AvailabilityNightShift, Mode=TwoWay}"/>
                            <CheckBox Content="24 Hours" IsChecked="{Binding Nurse.Availability24Hours, Mode=TwoWay}"/>
                            <CheckBox Content="Work in Hospital" IsChecked="{Binding Nurse.AvailabilityWorkInHospital, Mode=TwoWay}"/>
                        </StackPanel>

                        <StackPanel Grid.Column="1" Margin="4">
                            <TextBlock Text="Interviewer" Style="{StaticResource FormLabel}"/>
                            <TextBox Text="{Binding Nurse.Interviewer, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource FormTextBox}"/>
                            <TextBlock Text="Interview Date" Style="{StaticResource FormLabel}" Margin="0,8,0,0"/>
                            <DatePicker SelectedDate="{Binding Nurse.InterviewDate, Mode=TwoWay, Converter={StaticResource DateOnlyConverter}}"
                                        Style="{StaticResource FormDatePicker}"/>
                        </StackPanel>

                        <StackPanel Grid.Column="2" Margin="4">
                            <TextBlock Text="Notes (optional)" Style="{StaticResource FormLabel}"/>
                            <TextBox Text="{Binding Nurse.Preferences}" AcceptsReturn="True" Height="88"
                                     TextWrapping="Wrap" Style="{StaticResource FormTextBox}"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <TextBlock Text="{Binding Error}"
                           Foreground="#E57373"
                           FontWeight="SemiBold"
                           Visibility="{Binding HasErrors, Converter={StaticResource BooleanToVisibilityConverter}}"/>
            </StackPanel>
        </ScrollViewer>

        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="Save" Command="{Binding SaveCommand}" Style="{StaticResource PrimaryButton}" Margin="0,0,10,0"/>
            <Button Content="Clear" Command="{Binding ClearCommand}" Style="{StaticResource SecondaryButton}"/>
        </StackPanel>
    </Grid>
</Page>
